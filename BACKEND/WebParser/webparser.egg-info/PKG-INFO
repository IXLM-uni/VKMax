Metadata-Version: 2.4
Name: webparser
Version: 0.1.0
Summary: Высокоскоростной асинхронный веб-парсер для построения графа ссылок
Author: Alexander
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: playwright>=1.48.0
Requires-Dist: selectolax>=0.3.21
Requires-Dist: aiolimiter>=1.1.0
Requires-Dist: tldextract>=5.1.2
Requires-Dist: orjson>=3.10.7
Provides-Extra: bloom
Requires-Dist: bloom-filter2>=2.0.0; extra == "bloom"
Provides-Extra: nx
Requires-Dist: networkx>=3.2; extra == "nx"
Provides-Extra: viz
Requires-Dist: networkx>=3.2; extra == "viz"
Requires-Dist: matplotlib>=3.8; extra == "viz"
Provides-Extra: pdf
Requires-Dist: reportlab>=3.6; extra == "pdf"
Requires-Dist: beautifulsoup4>=4.12.2; extra == "pdf"

# WebParser — быстрый асинхронный парсер ссылок

## Идея
- Вход: список seed-URL.
- Выход: граф ссылок (nodes, edges), экспорт в edges.csv и graph.json.
- Первая версия: фокус на скорости, HTML-only, построение графа без лишней логики.

## Стек
- Playwright (APIRequestContext) — быстрый HTTP, HTTP/2, keep-alive.
- Selectolax — быстрый парсер HTML.
- aiolimiter — лимиты по хостам.
- tldextract — анализ домена/сабдомена.
- orjson — быстрый экспорт.
- Опционально: bloom-filter2 (экономия памяти), networkx (экспорт графа).

## Архитектура
- core, utils, robots, fetch, parse, frontier, graph, orchestrator, cli.
- Асинхронность: asyncio + Semaphore (глобальная конкуренция) + per-host RateLimiter.
- Очередь: asyncio.Queue (BFS/DFS), дедуп: set/BloomFilter.

## Установка
```bash
python -m venv .venv
source .venv/bin/activate
pip install -e .
python -m playwright install --with-deps chromium
```

## Быстрый старт (скелет)
```bash
python -m webparser.cli.main --seeds https://example.com --max-depth 2 --concurrency 10
```

## Экспорт
- edges.csv (src,dst)
- graph.json (nodes,edges)

## Политика
- Уважать robots.txt и лимиты.
- Фильтровать не-HTML, трекинговые query, неподдерживаемые схемы.

## Планы
- Добавить fallback headless-браузера с блокировкой ресурсов.
- Бенчмарки и тесты производительности.
